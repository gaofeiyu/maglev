# Maglev æ™ºèƒ½ç ”å‘åè®® (Intelligent Development Protocol)

> **æ ¸å¿ƒæç¤º**: æœ¬æ–‡æ¡£åŒ…å«ä¸¤éƒ¨åˆ†ï¼š
> 1.  **[ç”±æµ…] 3åˆ†é’Ÿå¿«é€Ÿå…¥é—¨**: é€‚åˆåˆæ¬¡ä½¿ç”¨è€…ï¼Œå¿«é€Ÿä¸Šæ‰‹ã€‚
> 2.  **[å…¥æ·±] åè®®æ ¸å¿ƒå®šä¹‰**: é€‚åˆé«˜çº§ç”¨æˆ·ä¸ AIï¼ŒæŸ¥é˜…æ¶æ„ç»†èŠ‚ã€‚

---

## Part 1: 3åˆ†é’Ÿå¿«é€Ÿå…¥é—¨ (Quick Start)

> **ç›®æ ‡**: è®©ä½ åœ¨ 3 åˆ†é’Ÿå†…æ‹¥æœ‰ä¸€ä¸ª AI åŸç”Ÿçš„ç ”å‘ç¯å¢ƒã€‚

### 1. ä»€ä¹ˆæ˜¯ Maglev?
Maglev ä¸æ˜¯ä¸€ä¸ªæ™®é€šçš„è„šæ‰‹æ¶ï¼Œå®ƒæ˜¯ä½ çš„ **AI ç ”å‘é˜Ÿå‹**ã€‚
å®ƒä¼šå¸®ä½ ç®¡ç†éœ€æ±‚æ–‡æ¡£ã€å®¡æŸ¥ä»£ç è´¨é‡ã€ç”šè‡³è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ã€‚ä½ åªéœ€è¦ä¸“æ³¨äºæœ€æ ¸å¿ƒçš„ä¸šåŠ¡é€»è¾‘ã€‚

### 2. å¦‚ä½•å¼€å§‹? (How to Start)

#### æ­¥éª¤ä¸€ï¼šåˆå§‹åŒ– (Init)
ç›´æ¥å¯¹ AI è¯´ï¼š
> **"åˆå§‹åŒ– Maglev"** (æˆ–è€…è¾“å…¥ `/maglev-init`)

AI ä¼šè‡ªåŠ¨ä¸ºä½ åˆ›å»ºå¥½æ‰€æœ‰å¿…è¦çš„ç›®å½•ç»“æ„ï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œåŸºåœ°â€ï¼‰ã€‚

#### æ­¥éª¤äºŒï¼šå¼€å§‹å·¥ä½œ (Work)
åˆå§‹åŒ–å®Œæˆåï¼Œä½ åªéœ€è¦è®°ä½ä¸€ä¸ªæŒ‡ä»¤æ¥å”¤é†’ **æ™ºèƒ½ç½—ç›˜**ï¼š
> **"æˆ‘è¯¥åšä»€ä¹ˆï¼Ÿ"** (æˆ–è€…è¾“å…¥ `/start`)

AI ä¼šè‡ªåŠ¨æ£€æŸ¥ä½ çš„é¡¹ç›®çŠ¶æ€ï¼Œå¹¶å»ºè®®ä¸‹ä¸€æ­¥è¡ŒåŠ¨ï¼š
*   å¦‚æœæ²¡æ–‡æ¡£ -> å®ƒä¼šå¸®ä½ å†™ Specã€‚
*   å¦‚æœæœ‰æ–‡æ¡£ -> å®ƒä¼šå¸®ä½ å†™ä»£ç ã€‚
*   å¦‚æœæœ‰ä»£ç  -> å®ƒä¼šå¸®ä½ å†™æµ‹è¯•ã€‚

#### æ­¥éª¤ä¸‰ï¼šæŸ¥çœ‹åœ°å›¾ (Map)
å½“ä½ æƒ³çŸ¥é“é¡¹ç›®å…¨æ™¯æˆ–è¿›åº¦æ—¶ï¼š
> **"ç”Ÿæˆé¡¹ç›®åœ°å›¾"** (æˆ–è€…è¾“å…¥ `/map`)

AI ä¼šä¸ºä½ ç”Ÿæˆ `docs/ATLAS.md`ï¼Œå±•ç¤ºå½“å‰é¡¹ç›®çš„ä¸šåŠ¡å…¨æ™¯ä¸å¼€å‘è¿›åº¦ã€‚

### 3. æ ¸å¿ƒç›®å½•é€ŸæŸ¥ (Cheat Sheet)
åˆå§‹åŒ–åï¼Œä½ ä¼šçœ‹åˆ°è¿™äº›ç›®å½•ï¼š
*   ğŸ“‚ **`specs/`**: **è¿™æ˜¯çœŸç†**ã€‚æ‰€æœ‰çš„éœ€æ±‚æ–‡æ¡£ã€æŠ€æœ¯æ–¹æ¡ˆéƒ½æ”¾åœ¨è¿™é‡Œã€‚
*   ğŸ“‚ **`code_storages/`**: **è¿™æ˜¯è‚‰ä½“**ã€‚ä½ çš„ä¸šåŠ¡ä»£ç æ”¾åœ¨è¿™é‡Œã€‚
*   ğŸ“‚ **`docs/`**: **è¿™æ˜¯è®°å¿†**ã€‚é¡¹ç›®æ—¥å¿—ã€æ¶æ„å†³ç­–è®°å½•åœ¨è¿™é‡Œã€‚
*   ğŸ“‚ **`issues/`**: **è¿™æ˜¯ä»»åŠ¡**ã€‚å¾…åŠäº‹é¡¹æ”¾åœ¨è¿™é‡Œã€‚

---

## Part 2: åè®®æ ¸å¿ƒå®šä¹‰ (Deep Dive)

> **To AI Assistant**: ä»¥ä¸‹å†…å®¹å®šä¹‰äº† Maglev çš„æ ¸å¿ƒåä½œè¦ç´ ä¸ç‰©ç†æ¶æ„ã€‚åœ¨æ‰§è¡Œåˆå§‹åŒ–æ—¶ï¼Œè¯·ä¸¥æ ¼éµå¾ª **Section 3: Directives**ã€‚
> **Critical Update**: æ‰€æœ‰ä¸šåŠ¡ä»£ç å¿…é¡»å­˜æ”¾åœ¨ `code_storages/{repo_name}/` ä¸‹ï¼Œä¸¥ç¦æ•£è½åœ¨æ ¹ç›®å½•ã€‚

### 1. æ ¸å¿ƒè¦ç´  (Definitions)

Maglev æ˜¯ç”±ä»¥ä¸‹ä¸‰ä¸ªæ ¸å¿ƒè¦ç´ æ„æˆçš„ **AI åä½œæ“ä½œç³»ç»Ÿ**ï¼š

#### ğŸ›ï¸ æ³•åˆ™ (Rules / Context)
é¡¹ç›®çš„â€œå®ªæ³•â€ã€‚å®ƒä¸ç›´æ¥è¿è¡Œï¼Œè€Œæ˜¯ä½œä¸º **Context** æ³¨å…¥åˆ° AI çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œçº¦æŸ AI çš„è¡Œä¸ºã€‚
-   **Core Rules**: å®šä¹‰äº†â€œé“ä¸‰è§’â€æ¶æ„ (Truth/Physics/Math)ã€å•ä¸€äº‹å®æ¥æº (SSOT) åŸåˆ™åŠæ²Ÿé€šåè®®ã€‚
-   **Location**: æœ€ç»ˆåº”å­˜åœ¨äº `.maglev/config/core_rules.md`ã€‚

#### âš¡ï¸ æŠ€èƒ½ (Skills / Capabilities)
èµ‹äºˆ AI çš„ç‰¹å®šèƒ½åŠ›ã€‚
- å…è®¸ AI æ‰§è¡Œç‰¹å®šçš„é«˜çº§ä»»åŠ¡ï¼Œå¦‚ `maglev_audit` (å®¡è®¡ Spec ä¸€è‡´æ€§) æˆ– `maglev_reverse_eng` (ä»£ç é€†å‘)ã€‚
- **Location**: å­˜æ”¾äº `.agent/skills/` (æˆ–æ ¹æ®å…·ä½“ IDE è§„èŒƒå­˜æ”¾)ã€‚
- **Inventory (Built-in)**:
    - **Creation (æ„å»º)**: `maglev-create-prd` (å¸®æˆ‘å†™PRD), `maglev-quick-dev` (å¸®æˆ‘å†™ä»£ç ), `maglev-create-spec` (å¸®æˆ‘å†™æ–¹æ¡ˆ), `maglev-create-test-cases` (å¸®æˆ‘ç”Ÿæˆæµ‹è¯•).
    - **Conversion (è½¬åŒ–)**: `atomizer` (æ™ºèƒ½åŠ©æ‰‹), `maglev-reverse-spec` (è¯»æ‡‚ä»£ç ), `maglev-legacy-adopter` (æ¥å…¥æ—§é¡¹ç›®).
    - **Governance (æ²»ç†)**: `manage_asset_lifecycle` (å½’æ¡£æ—§æ–‡ä»¶), `maglev-librarian` (æ•´ç†é¡¹ç›®), `maglev-audit-prd` (æ£€æŸ¥PRD), `maglev-audit-spec` (æ£€æŸ¥æ–¹æ¡ˆ).
    - **Utility (å·¥å…·)**: `maglev-skill-forge` (åˆ›å»ºæ–°æŠ€èƒ½), `mermaid_expert` (ç”»å›¾).

#### ğŸŒŠ å·¥ä½œæµ (Workflows / Procedures)
æ ‡å‡†åŒ–çš„åä½œåŠ¨ä½œã€‚
-   å®šä¹‰äº†ä»â€œæ„å›¾â€åˆ°â€œè½åœ°â€çš„æ ‡å‡†è·¯å¾„ã€‚
-   **Location**: å­˜æ”¾äº `.agent/workflows/`ã€‚

---

### 2. ç›®æ ‡çŠ¶æ€ (Target State)

ä¸€ä¸ªåˆå§‹åŒ–å®Œæˆçš„ Maglev é¡¹ç›®ï¼Œ**å¿…é¡»**å…·å¤‡ä»¥ä¸‹ç‰©ç†ç»“æ„ï¼š

```text
/
â”œâ”€â”€ specs/                  # [Truth] äº‹å®æ¥æº
â”‚   â”œâ”€â”€ 00_vision/          # æ„¿æ™¯ä¸é•¿é’æ–‡æ¡£
â”‚   â”œâ”€â”€ 10_reality/         # ç‰©ç†ä¸–ç•Œçš„æ˜ å°„ (Map)
â”‚   â”‚   â””â”€â”€ repository_map.md # ğŸ†• ä»“åº“æ˜ å°„é…ç½® (å¿…éœ€)
â”‚   â”œâ”€â”€ 20_evolution/       # æ­£åœ¨è¿›è¡Œçš„å˜æ›´ (Active Iteration)
â”‚   â”œâ”€â”€ 90_archive/         # å†å²æ¡£
â”‚   â””â”€â”€ 99_debt/            # å·²çŸ¥æŠ€æœ¯å€º
â”œâ”€â”€ {code_repo}/            # [Physics] ä»£ç ä»“åº“ (è·¯å¾„çµæ´»ï¼Œç”± repository_map.md å®šä¹‰)
â”‚   â””â”€â”€ .git/               # ç‹¬ç«‹çš„ Git ä»“åº“
â”œâ”€â”€ tests/                  # [Guard] è´¨é‡é—¨ç¦ (Black Box)
â”‚   â”œâ”€â”€ acceptance/         # ä¸šåŠ¡éªŒæ”¶ (Cucumber/Excel)
â”‚   â””â”€â”€ e2e/                # é“¾è·¯æµ‹è¯• (Playwright)
â”œâ”€â”€ issues/                 # [Task] ä»»åŠ¡è¿½è¸ª (Why & When)
â”‚   â”œâ”€â”€ active/
â”‚   â””â”€â”€ closed/
â”œâ”€â”€ docs/                   # [Memory] çŸ¥è¯†åº“
â”‚   â”œâ”€â”€ thinking/           # å†³ç­–è¿‡ç¨‹ (Why)
â”‚   â””â”€â”€ guides/             # æ“ä½œæ‰‹å†Œ (How)
â”œâ”€â”€ .maglev/                # [System] ç³»ç»Ÿé…ç½®
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ core_rules.md   # [Rule] æ ¸å¿ƒæ³•åˆ™
â”‚   â”œâ”€â”€ rules/              # [Source] è§„åˆ™æº
â”‚   â””â”€â”€ protocols/          # [Source] åè®®æº
â””â”€â”€ .agent/                 # [Methodology] AI åä½œå±‚
    â”œâ”€â”€ skills/             # [Skill] AI æŠ€èƒ½ (Audit, Reverse)
    â””â”€â”€ workflows/          # [Workflow] æ ‡å‡†ä½œä¸šæµ (Init, Sync)
```

---

### 3. ç»™ AI åŠ©æ‰‹çš„è¡ŒåŠ¨æŒ‡ä»¤ (Directives)

ä½œä¸ºæ™ºèƒ½åä½œä¼™ä¼´ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹é€»è¾‘ï¼Œå°†å½“å‰æ–‡ä»¶å¤¹ (Source) çš„å†…å®¹â€œå®‰è£…â€åˆ°é¡¹ç›®æ ¹ç›®å½• (Target)ï¼š

#### Phase 1: ç‰©ç†æ„å»º (Structure)
1.  **Understand**: æ‰«æå½“å‰ç›®å½•ç»“æ„ã€‚
2.  **Migrate (è¿ç§»)**:
    -   å°† `.agent/` å’Œ `.maglev/` å®Œæ•´å¤åˆ¶åˆ°é¡¹ç›®æ ¹ç›®å½•ã€‚
    -   ç¡®ä¿ `specs/`, `docs/`, `issues/` ç­‰ä¸šåŠ¡ç›®å½•ç»“æ„åœ¨æ ¹ç›®å½•åˆ›å»ºã€‚
    -   **Critical**: åœ¨ `docs/` ä¸‹åˆ›å»ºæ ‡å‡†çš„ Johnny Decimal ç»“æ„ (thinking, guidesç­‰)ã€‚
3.  **Activate (æ¿€æ´»)**:
    -   å¤åˆ¶ `issues/README.md` åˆ°é¡¹ç›®å¯¹åº”çš„ä½ç½®ã€‚
    -   é…ç½® `.maglev/user.yaml`ã€‚

#### Phase 2: æ ¸å¿ƒæ³•åˆ™æ³¨å…¥ (Brain Injection)
1.  **Deploy**: éƒ¨ç½² `core_rules.md` åˆ° `.maglev/config/`ã€‚
2.  **Adapt (é€‚é…)**: ä¿®æ­£æ–‡ä»¶ä¸­çš„ Context å ä½ç¬¦ã€‚

#### Phase 3: æŠ€èƒ½ä¸å·¥ä½œæµè£…è½½ (Methodology Loading)
1.  **Check**: ç¡®ä¿ `.agent/skills/` å’Œ `.agent/workflows/` å†…å®¹å®Œæ•´ä¸”è·¯å¾„æ­£ç¡®ã€‚

---

### Appendix: èƒ½åŠ›æ¸…å• (Capabilities Inventory)

> Maglev Starter Kit å†…ç½®äº†ä»¥ä¸‹å¼€ç®±å³ç”¨çš„èƒ½åŠ›ï¼š

#### ğŸ› ï¸ Skills (æ™ºèƒ½æŠ€èƒ½)
å­˜æ”¾äº `.agent/skills/`ï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€è§¦å‘ã€‚

| æŠ€èƒ½åç§° | ç±»åˆ« | æè¿° | å…¸å‹æŒ‡ä»¤ |
| :--- | :--- | :--- | :--- |
| **maglev-create-prd** | Creation | å¸®æˆ‘æŠŠæƒ³æ³•å˜æˆäº§å“æ–‡æ¡£ | "å¸®æˆ‘å†™ä¸€ä¸ª PRD..." |
| **maglev-quick-dev** | Creation | ç›´æ¥ç”Ÿæˆä»£ç  | "å®ç°è¿™ä¸ªåŠŸèƒ½..." |
| **maglev-create-spec** | Creation | å¸®æˆ‘è®¾è®¡æŠ€æœ¯æ–¹æ¡ˆ | "å†™ä¸€ä¸ª Tech Spec..." |
| **maglev-create-test-cases** | Creation | å¸®æˆ‘è¡¥å……æµ‹è¯•ç”¨ä¾‹ | "ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹..." |
| **atomizer** | Conversion | æ™ºèƒ½åŠ©æ‰‹ (æœ‰é—®é¢˜ç›´æ¥é—®æˆ‘) | "ä¸‹ä¸€æ­¥è¯¥åšä»€ä¹ˆï¼Ÿ" |
| **maglev-reverse-spec** | Conversion | è¯»æ‡‚ç°æœ‰ä»£ç å¹¶è¡¥å…¨æ–‡æ¡£ | "é€†å‘è¿™ä¸ªæ¨¡å—..." |
| **maglev-audit-prd** | Governance | å¸®æˆ‘æ£€æŸ¥äº§å“æ–‡æ¡£å†™å¾—å¯¹ä¸å¯¹ | "å®¡è®¡ PRD..." |
| **maglev-audit-spec** | Governance | å¸®æˆ‘æ£€æŸ¥æŠ€æœ¯æ–¹æ¡ˆå†™å¾—å¥½ä¸å¥½ | "å®¡è®¡ Tech Spec..." |
| **manage_asset_lifecycle** | Governance | å½’æ¡£æ—§æ–‡ä»¶ | "å½’æ¡£è¿™ä¸ª Spec..." |
| **maglev-librarian** | Governance | å¸®æˆ‘æ•´ç†é¡¹ç›®æ–‡ä»¶ | "æ•´ç†ä¸€ä¸‹ç´¢å¼•..." |
| **maglev-bootstrapper** | Utility | åˆå§‹åŒ–é¡¹ç›®ç¯å¢ƒ | "åˆå§‹åŒ– Maglev..." |
| **maglev-tutor** | Utility | æˆ‘æ˜¯æ–°æ¥çš„ï¼Œè¯·æ•™æ•™æˆ‘ | "æˆ‘æ˜¯æ–°æ¥çš„..." |
| **maglev-standup** | Utility | åŒæ­¥é¡¹ç›®æœ€æ–°çŠ¶æ€ | "Standup" |
| **maglev-skill-forge** | Utility | æˆ‘æƒ³åˆ›å»ºæ–°æŠ€èƒ½ | "åˆ›å»ºä¸€ä¸ªæ–°æŠ€èƒ½..." |
| **mermaid_expert** | Utility | å¸®æˆ‘ç”»å›¾/ä¿®å›¾ | "ä¿®å¤è¿™ä¸ªå›¾è¡¨..." |

### ğŸŒŠ Workflows (å·¥ä½œæµ)
å­˜æ”¾äº `.agent/workflows/`ï¼Œå®šä¹‰æ ‡å‡†ä½œä¸šç¨‹åºã€‚

**æ¨èä¼˜å…ˆä½¿ç”¨ `/` æŒ‡ä»¤ (Slash Commands) ä¸ AI äº¤äº’ã€‚**

| å·¥ä½œæµåç§° | å¯¹åº”æŒ‡ä»¤ | æè¿° |
| :--- | :--- | :--- |
| å·¥ä½œæµåç§° | å¯¹åº”æŒ‡ä»¤ | æè¿° |
| :--- | :--- | :--- |
| **maglev-init** | `/maglev-init` | é¡¹ç›®åˆå§‹åŒ– (ä»“åº“æ³¨å†Œ) |
| **map** | `/map` | ç”Ÿæˆ/æ›´æ–°é¡¹ç›®åœ°å›¾ |
| **standup** | `/standup` | æ¯æ—¥ç«™ä¼š |
| **create-prd** | `/create-prd` | ç”Ÿæˆ PRD |
| **create-spec** | `/create-spec` | ç”ŸæˆæŠ€æœ¯æ–¹æ¡ˆ (Spec) |
| **quick-dev** | `/quick-dev` | å¿«é€Ÿå¼€å‘åŠŸèƒ½ |
| **create-tests** | `/create-tests` | ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ |
| **legacy-adopter** | `/legacy-adopter` | å­˜é‡é¡¹ç›®æ¥å…¥ |
| **code-review** | `/code-review-backend` | åç«¯ä»£ç å®¡æŸ¥ |
| ... | ... | (æ›´å¤šæŒ‡ä»¤è¯·å‚è€ƒ README) |
