---
name: 'step-03-execute'
description: '执行实施 - 迭代任务，编写代码，运行测试'

workflow_path: '{project-root}/_bmad/bmm/workflows/bmad-quick-flow/quick-dev'
thisStepFile: './step-03-execute.md'
nextStepFile: './step-04-self-check.md'
---

# 步骤 3: 执行实施

**目标：** 实施所有任务，编写测试，遵循模式，处理错误。

**关键：** 继续完成 所有 任务，不要为里程碑而停止。

---

## 可用状态

来自之前的步骤：

- `{baseline_commit}` - 工作流开始时的 Git HEAD
- `{execution_mode}` - "tech-spec" 或 "direct"
- `{tech_spec_path}` - 技术规范文件 (如果为模式 A)
- `{project_context}` - 项目模式 (如果存在)

来自上下文：

- 模式 A: 从技术规范中提取的任务和 AC
- 模式 B: 来自 step-02 心理计划的任务和 AC

---

## 执行循环

对于每个任务：

### 1. 加载上下文

- 阅读与此任务相关的文件
- 审查来自 project-context 或观察到的代码的模式
- 了解依赖关系

### 2. 实施

- 按照现有模式编写代码
- 适当地处理错误
- 遵循代码库中观察到的惯例
- 在不明显的地方添加适当的注释

### 3. 测试

- 如果更改合适，编写测试
- 运行现有测试以捕获回归
- 验证此任务的特定 AC

### 4. 标记完成

- 勾选任务： `- [x] Task N`
- 立即继续下一个任务

---

## 停止条件

**如果在以下情况下停止并请求指导：**

- 同一任务连续 3 次失败
- 测试失败且修复方法不明显
- 发现阻塞性依赖关系
- 需要用户决定的歧义

**不要因以下原因停止：**

- 可以记录并继续的次要问题
- 不阻塞功能的警告
- 风格偏好（遵循现有模式）

---

## 持续执行

**关键：** 任务之间不要停下来等待批准。

- 按顺序执行所有任务
- 仅在出现阻塞问题时停止
- 测试失败 = 在继续之前修复
- 跟踪所有已完成的工作以进行自检

---

## 下一步

当 所有 任务都完成（或因阻塞而停止）时，完整阅读并遵循：`step-04-self-check.md`。

---

## 成功指标

- 所有任务都已尝试
- 代码遵循现有模式
- 错误处理适当
- 在适当的地方编写了测试
- 测试通过
- 没有不必要的停止

## 失败模式

- 在任务之间停止等待批准
- 忽略现有模式
- 更改后不运行测试
- 第一次失败后放弃
- 不遵循 project-context 规则（如果存在）
