# Maglev PRD 目的

**PRD 是必需漏斗的顶部，它为 Maglev 原则中的所有后续产品开发工作提供养料。**

---

## 什么是 Maglev PRD？

一份服务于双重受众的文档：
1. **人类产品经理和建设者** - 愿景、策略、利益相关者沟通
2. **LLM 下游消费** - UX 设计 → 架构 → Epics → 开发 AI Agents

每一个后续文档都变得更加为 AI 量身定制且更加细化。

---

## 核心理念：信息密度

**高信噪比**

每个句子都必须承载信息量。LLM 可以高效地消费精确、密集的内容。

**反模式 (消除这些):**
- ❌ "系统将允许用户..." → ✅ "用户可以..."
- ❌ "值得注意的是..." → ✅ 直接陈述事实
- ❌ "为了..." → ✅ "要..."
- ❌ 会话填充词和废话 → ✅ 直接、简洁的陈述

**目标:** 每个字的信息量最大化。零废话。

---

## 可追溯性链

**PRD 启动链条:**
```
愿景 → 成功标准 → 用户旅程 → 功能需求 → (未来: 用户故事)
```

**在 PRD 中，建立:**
- 愿景 → 成功标准对齐
- 成功标准 → 用户旅程覆盖
- 用户旅程 → 功能需求映射
- 所有需求都可追溯到用户需求

**原因:** 每个下游工件（UX、架构、Epics、故事）都必须追溯到记录的用户需求和业务目标。这个链条确保我们构建正确的东西。

---

## 什么是好的功能需求 (FR)？

### FR 是能力，而不是实现

**好的 FR:** "用户可以通过电子邮件链接重置密码"
**坏的 FR:** "系统通过电子邮件发送 JWT 并通过数据库进行验证" (实现泄漏)

**好的 FR:** "仪表板在 95% 的情况下在 2 秒内加载"
**坏的 FR:** "加载时间快" (主观，不可测量)

### SMART 质量标准

**具体 (Specific):** 清晰、精确定义的能力
**可测量 (Measurable):** 可量化，有测试标准
**可达成 (Attainable):** 在约束范围内现实可行
**相关 (Relevant):** 与业务目标一致
**可追溯 (Traceable):** 链接到来源（执行摘要或用户旅程）

### FR 反模式

**主观形容词:**
- ❌ "易于使用", "直观", "用户友好", "快", "响应式"
- ✅ 使用指标: "在 3 次点击内完成任务", "在 2 秒内加载"

**实现泄漏:**
- ❌ 技术名称、特定库、实现细节
- ✅ 关注能力和可衡量的结果

**模糊量词:**
- ❌ "多个用户", "几个选项", "各种格式"
- ✅ "多达 100 个并发用户", "3-5 个选项", "PDF, DOCX, TXT 格式"

**缺少测试标准:**
- ❌ "系统应提供通知"
- ✅ "系统应在触发事件后 30 秒内发送电子邮件通知"

---

## 什么是好的非功能需求 (NFR)？

### NFR 必须是可测量的

**模板:**
```
"系统应 [指标] [条件] [测量方法]"
```

**示例:**
- ✅ "根据 APM 监控测量，系统应在 95% 的情况下在 200ms 内响应 API 请求"
- ✅ "根据云提供商 SLA 测量，系统应在工作时间内保持 99.9% 的正常运行时间"
- ✅ "根据负载测试测量，系统应支持 10,000 个并发用户"

### NFR 反模式

**不可测量的声明:**
- ❌ "系统应具有可扩展性" → ✅ "系统应通过水平扩展处理 10 倍的负载增长"
- ❌ "要求高可用性" → ✅ "根据云提供商 SLA 测量，99.9% 的正常运行时间"

**缺失上下文:**
- ❌ "响应时间低于 1 秒" → ✅ "在正常负载下，95% 的 API 响应时间低于 1 秒"

---

## 特定领域需求

**基于项目上下文自动检测并强制执行**

某些行业具有必须存在的强制性要求：

- **医疗保健:** HIPAA 隐私和安全规则, PHI 加密, 审计日志, MFA
- **金融科技:** PCI-DSS Level 1, AML/KYC 合规性, SOX 控制, 财务审计跟踪
- **政府科技:** NIST 框架, Section 508 可访问性 (WCAG 2.1 AA), FedRAMP, 数据驻留
- **电子商务:** 用于支付的 PCI-DSS, 库存准确性, 按司法管辖区计算税款

**原因:** 在 PRD 中缺少这些要求意味着它们将在架构和实现中被忽略，从而导致昂贵的返工。在 PRD 创建过程中，有一个步骤可以覆盖这一点 - 在验证过程中，我们要确保它被覆盖了。为此，步骤将利用 `domain-complexity.csv` 和 `project-types.csv`。

---

## 文档结构 (Markdown，人类可读)

### 必需的部分
1. **执行摘要** - 愿景, 差异化因素, 目标用户
2. **成功标准** - 可衡量的结果 (SMART)
3. **产品范围** - MVP, 增长, 愿景阶段
4. **用户旅程** - 全面覆盖
5. **领域需求** - 行业特定合规性（如适用）
6. **创新分析** - 竞争差异化（如适用）
7. **项目类型需求** - 平台特定需求
8. **功能需求** - 能力契约 (FRs)
9. **非功能需求** - 质量属性 (NFRs)

### 双重消费格式

**对于人类:**
- 清晰、专业的语言
- 从愿景到需求的逻辑流程
- 易于利益相关者审查和批准

**对于 LLM:**
- ## 所有主要部分的 2 级标题（启用提取）
- 一致的结构和模式
- 精确、可测试的语言
- 高信息密度

---

## 下游影响

**PRD 如何为下一个工件提供养料:**

**UX 设计:**
- 用户旅程 → 交互流程
- FRs → 设计需求
- 成功标准 → UX 指标

**架构:**
- FRs → 系统能力
- NFRs → 架构决策
- 领域需求 → 合规架构
- 项目类型需求 → 平台选择

**Epics 和故事 (在架构之后创建):**
- FRs → 用户故事 (1 个 FR 可能映射到 1-3 个故事)
- 验收标准 → 故事验收测试
- 优先级 → 冲刺排序
- 可追溯性 → 故事映射回愿景

**开发 AI Agents:**
- 精确的需求 → 实现清晰度
- 测试标准 → 自动测试生成
- 领域需求 → 合规执行
- 可测量的 NFRs → 性能目标

---

## 总结：什么是优秀的 Maglev PRD？

✅ **高信息密度** - 每个句子都承载分量，零废话
✅ **可测量的需求** - 所有 FR 和 NFR 均可通过特定标准进行测试
✅ **清晰的可追溯性** - 每个需求都链接到用户需求和业务目标
✅ **领域意识** - 自动检测并包含特定行业的需求
✅ **零反模式** - 没有主观形容词、实现泄漏或模糊量词
✅ **双重受众优化** - 人类可读且 LLM 可消费
✅ **Markdown 格式** - 专业、干净、所有利益相关者均可访问

---

**记住:** PRD 是基础。这里的质量会影响到随后的每个阶段。密集、精确、可追溯良好的 PRD 使得 UX 设计、架构、Epic 分解和 AI 开发更加有效。
