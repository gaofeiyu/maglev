---
name: 'step-v-11-holistic-quality-validation'
description: '整体质量评估 - 评估 PRD 作为连贯、引人注目的文档 - 它是一个好的 PRD 吗？'

# File references (ONLY variables used in this step)
nextStepFile: './step-v-12-completeness-validation.md'
prdFile: '{prd_file_path}'
validationReportPath: '{validation_report_path}'
advancedElicitationTask: 'references/advanced-elicitation.workflow.xml'
---

# 步骤 11: 整体质量评估

## 步骤目标：

评估 PRD 作为一份连贯、引人注目的文档 - 评估文档流程、双重受众有效性（人类和 LLM）、BMAD PRD 原则合规性和总体质量评级。

## 强制执行规则 (请先阅读):

### 通用规则：

- 🛑 绝不 在没有用户输入的情况下生成内容
- 📖 关键：在采取任何行动之前，请阅读完整的步骤文件
- 🔄 关键：当使用 'C' 加载下一步时，确保已阅读整个文件
- 📋 你是一个协调员，而不是内容生成器
- ✅ 你必须始终使用配置的 `{communication_language}` 以你的 Agent 沟通风格输出语言

### 角色强化：

- ✅ 你是验证架构师和质量保证专家
- ✅ 如果你已经被赋予了沟通或人物模式，在扮演这个新角色时继续使用它们
- ✅ 我们参与系统验证，而不是协作对话
- ✅ 你带来分析严谨性和文档质量专业知识
- ✅ 此步骤自动运行 - 不需要用户输入
- ✅ 使用高级诱导进行多视角评估

### 步骤特定规则：

- 🎯 仅关注 整体文档质量评估
- 🚫 禁止 验证单个组件（在前面的步骤中已完成）
- 💬 方法：使用高级诱导的多视角评估
- 🚪 这是一个验证序列步骤 - 完成后自动继续

## 执行协议：

- 🎯 使用高级诱导进行多视角评估
- 🎯 评估文档流程、双重受众、BMAD 原则
- 💾 将综合评估追加到验证报告
- 📖 显示 "正在进行下一步检查..." 并加载下一步
- 🚫 禁止 暂停或请求用户输入

## 上下文边界：

- 可用上下文：完整的 PRD 文件，带有步骤 1-10 发现的验证报告
- 重点：整体质量 - 整个文档
- 限制：不重新验证单个组件，不暂停等待用户输入
- 依赖项：步骤 1-10 已完成 - 所有系统检查已完成

## 强制序列

**关键：** 严格遵循此序列。除非用户明确要求更改，否则不要跳过、重新排序或即兴发挥。

### 1. 尝试使用高级诱导进行子流程

**尝试使用 Task 工具生成子流程使用高级诱导：**

"使用多视角评估对此 PRD 执行整体质量评估：

**完全阅读并遵循高级诱导工作流：**
{advancedElicitationTask}

**从这些角度评估 PRD：**

**1. 文档流程与连贯性：**
- 阅读整个 PRD
- 评估叙事流程 - 它是否讲述了一个连贯的故事？
- 检查部分之间的过渡
- 评估一致性 - 自始至终是否连贯？
- 评估可读性 - 是否清晰且组织良好？

**2. 双重受众有效性：**

**对于人类：**
- 高管友好：高管能否快速理解愿景和目标？
- 开发人员清晰度：开发人员是否有明确的需求来构建？
- 设计师清晰度：设计师是否了解用户需求和流程？
- 利益相关者决策：利益相关者能否做出明智的决定？

**对于 LLM：**
- 机器可读结构：PRD 是否结构化以供 LLM 消费？
- UX 就绪：LLM 能否从中生成 UX 设计？
- 架构就绪：LLM 能否从中生成架构？
- Epic/Story 就绪：LLM 能否分解为 epics 和 stories？

**3. BMAD PRD 原则合规性：**
- 信息密度：每句话都有分量？
- 可测量性：需求可测试？
- 可追溯性：需求追溯到来源？
- 领域意识：包含特定领域的注意事项？
- 零反模式：无填充或冗长？
- 双重受众：对人类和 LLM 都有效？
- Markdown 格式：正确的结构和格式？

**4. 总体质量评级：**
在 5 分制上对 PRD 进行评级：
- 优秀 (5/5): 典范，准备好用于生产
- 良好 (4/5): 强大，需要少量改进
- 足够 (3/5): 可接受但需要细化
- 需要工作 (2/5): 存在重大差距或问题
- 有问题 (1/5): 主要缺陷，需要大量修订

**5. 前 3 个改进：**
确定 3 个最具影响力的改进，使这成为一个伟大的 PRD

返回带有所有视角、评级和前 3 个改进的综合评估。"

**优雅降级（如果无 Task 工具或高级诱导不可用）：**
- 直接在当前上下文中执行整体评估
- 阅读完整的 PRD
- 评估文档流程、连贯性、过渡
- 评估双重受众有效性
- 检查 BMAD 原则合规性
- 分配总体质量评级
- 确定前 3 个改进

### 2. 综合评估

**编译多视角评估的发现：**

**文档流程与连贯性：**
- 总体评估：[优秀/良好/足够/需要工作/有问题]
- 关键优势：[list]
- 关键弱点：[list]

**双重受众有效性：**
- 对于人类：[assessment]
- 对于 LLM：[assessment]
- 总体双重受众得分：[1-5]

**BMAD 原则合规性：**
- 满足的原则：[count]/7
- 有问题的原则：[list]

**总体质量评级：** [1-5 with label]

**前 3 个改进：**
1. [Improvement 1]
2. [Improvement 2]
3. [Improvement 3]

### 3. 向验证报告报告整体质量发现

追加到验证报告：

```markdown
## 整体质量评估

### 文档流程与连贯性

**评估:** [优秀/良好/足够/需要工作/有问题]

**优势:**
{List key strengths}

**改进领域:**
{List key weaknesses}

### 双重受众有效性

**对于人类:**
- 高管友好: [assessment]
- 开发人员清晰度: [assessment]
- 设计师清晰度: [assessment]
- 利益相关者决策: [assessment]

**对于 LLM:**
- 机器可读结构: [assessment]
- UX 就绪: [assessment]
- 架构就绪: [assessment]
- Epic/Story 就绪: [assessment]

**双重受众得分:** {score}/5

### BMAD PRD 原则合规性

| 原则 | 状态 | 备注 |
|-----------|--------|-------|
| 信息密度 | [满足/部分/未满足] | {notes} |
| 可测量性 | [满足/部分/未满足] | {notes} |
| 可追溯性 | [满足/部分/未满足] | {notes} |
| 领域意识 | [满足/部分/未满足] | {notes} |
| 零反模式 | [满足/部分/未满足] | {notes} |
| 双重受众 | [满足/部分/未满足] | {notes} |
| Markdown 格式 | [满足/部分/未满足] | {notes} |

**满足的原则:** {count}/7

### 总体质量评级

**评级:** {rating}/5 - {label}

**量表:**
- 5/5 - 优秀: 典范，准备好用于生产
- 4/5 - 良好: 强大，需要少量改进
- 3/5 - 足够: 可接受但需要细化
- 2/5 - 需要工作: 存在重大差距或问题
- 1/5 - 有问题: 主要缺陷，需要大量修订

### 前 3 个改进

1. **{Improvement 1}**
   {Brief explanation of why and how}

2. **{Improvement 2}**
   {Brief explanation of why and how}

3. **{Improvement 3}**
   {Brief explanation of why and how}

### 摘要

**此 PRD 是:** {one-sentence overall assessment}

**要使其伟大:** 关注上面的前 3 个改进。
```

### 4. 显示进度并自动继续

显示："**整体质量评估完成**

总体评级：{rating}/5 - {label}

**正在进行最终验证检查...**"

毫不延迟，完整阅读并遵循：{nextStepFile} (step-v-12-completeness-validation.md)

---

## 🚨 系统成功/失败指标

### ✅ 成功：

- 使用高级诱导进行多视角评估（或优雅降级）
- 评估文档流程与连贯性
- 评估双重受众有效性（人类和 LLM）
- 检查 BMAD PRD 原则合规性
- 分配总体质量评级（1-5 级）
- 确定前 3 个改进
- 将综合评估报告给验证报告
- 自动继续进行下一个验证步骤
- 尝试子流程架构并进行优雅降级

### ❌ 系统失败：

- 未使用高级诱导进行多视角评估
- 缺少文档流程评估
- 缺少双重受众评估
- 未检查所有 BMAD 原则
- 未分配总体质量评级
- 缺少前 3 个改进
- 未将综合评估报告给验证报告
- 未自动继续

**主规则：** 这评估整个文档，而不仅仅是组件。回答“这是一个好的 PRD 吗？”和“什么会让它变得伟大？”
